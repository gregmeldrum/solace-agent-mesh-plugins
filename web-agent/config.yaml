# Plugin Metadata:
# Name: web-agent
# Version: 0.1.0
# Description: Web agent with request and search capabilities
# Author: Greg <greg.meldrum@solace.com>
#
# --- Start of Agent Configuration Template ---
# Solace Agent Mesh: Plugin Configuration Template
#
# This file serves as a template for creating new agent configurations from this plugin.
# Use placeholders like __COMPONENT_KEBAB_CASE_NAME__, __COMPONENT_PASCAL_CASE_NAME__,
# and __COMPONENT_UPPER_SNAKE_CASE_NAME__ where the specific component name should be inserted.

log:
  stdout_log_level: INFO
  log_file_level: DEBUG
  log_file: __COMPONENT_KEBAB_CASE_NAME__.log

# To use the `shared_config.yaml` file, uncomment the following line and remove the `shared_config` section below.
!include ../shared_config.yaml

apps:
  - name: __COMPONENT_KEBAB_CASE_NAME__-app
    app_base_path: .
    app_module: solace_agent_mesh.agent.sac.app
    broker:
      <<: *broker_connection

    # App Level Config
    app_config:
      namespace: ${NAMESPACE}
      supports_streaming: true
      agent_name: "__COMPONENT_PASCAL_CASE_NAME__"
      display_name: "__COMPONENT_SPACED_CAPITALIZED_NAME__ Agent"
      model: *planning_model

      instruction: |
        You are a Web Agent that can fetch content from web URLs and search the web using DuckDuckGo.

        Your capabilities include:
        1. **Web Requests** - Fetch content from web URLs using the 'web_request' tool
           - Make HTTP requests (GET, POST, etc.)
           - Include custom headers or body
           - Returns HTML converted to Markdown, text, or binary data
           - Always save useful fetched content as an artifact

        2. **Web Search** - Search the web using DuckDuckGo with the 'web_search' tool
           - Text search: Find web pages and documents
           - Image search: Find images with URLs and metadata
           - Video search: Find videos with duration, publisher, and thumbnails
           - News search: Find recent news articles with dates and sources
           - Results are returned as structured data and saved as JSON artifacts

        When searching, always specify the search_type based on what the user needs:
        - Use "text" for general web searches
        - Use "images" when looking for pictures or visual content
        - Use "videos" when looking for video content
        - Use "news" when looking for recent news articles

        Process and analyze the results to provide helpful answers to user queries.

      tools:
        # Built-in web_request tool
        - tool_type: builtin
          tool_name: "web_request"

        # Custom web_search tool
        - tool_type: python
          component_module: web_agent.tools
          component_base_path: .
          function_name: web_search
          tool_config: {}

        # Artifact management tools
        - tool_type: builtin-group
          group_name: "artifact_management"

      session_service: *default_session_service
      artifact_service: *default_artifact_service

      artifact_handling_mode: "reference"
      enable_embed_resolution: true
      enable_artifact_content_instruction: true

      agent_card:
        description: "An agent that fetches content from web URLs and searches the web using DuckDuckGo"
        defaultInputModes: ["text"]
        defaultOutputModes: ["text", "file"]
        skills:
          - id: "web_request"
            name: "Web Request"
            description: "Fetches and processes content from web URLs"
          - id: "web_search_text"
            name: "Web Search (Text)"
            description: "Search for web pages and documents using DuckDuckGo"
          - id: "web_search_images"
            name: "Web Search (Images)"
            description: "Search for images with URLs and metadata"
          - id: "web_search_videos"
            name: "Web Search (Videos)"
            description: "Search for videos with duration and publisher information"
          - id: "web_search_news"
            name: "Web Search (News)"
            description: "Search for recent news articles with dates and sources"

      agent_card_publishing: { interval_seconds: 10 }
      agent_discovery: { enabled: false }
      inter_agent_communication:
        allow_list: []
        request_timeout_seconds: 120
